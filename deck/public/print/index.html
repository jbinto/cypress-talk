<!DOCTYPE html><html><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><meta name="generator" content="Gatsby 2.17.11"/><title data-react-helmet="true">Why you should use Cypress</title><link data-react-helmet="true" rel="stylesheet" href="https://fonts.googleapis.com/css?family=Crimson+Text"/><link as="script" rel="preload" href="/component---gatsby-theme-mdx-deck-src-templates-deck-js-cdb6ca2b25d53e7b9a8a.js"/><link as="script" rel="preload" href="/commons-88bd4bfc42e0e51e494b.js"/><link as="script" rel="preload" href="/app-542572cf9618f2411276.js"/><link as="script" rel="preload" href="/webpack-runtime-e9523b97a6adcaa5552d.js"/><link as="fetch" rel="preload" href="/page-data/print/page-data.json" crossorigin="anonymous"/></head><body><script>(function() { try {
        var mode = localStorage.getItem('theme-ui-color-mode');
        if (!mode) return
        document.body.classList.add('theme-ui-' + mode);
      } catch (e) {} })();</script><noscript id="gatsby-noscript">This app works best with JavaScript enabled.</noscript><div id="___gatsby"><div style="outline:none" tabindex="-1" role="group" id="gatsby-focus-wrapper"><style data-emotion-css="13j5fvw">body{margin:0;}</style><style data-emotion-css="11w7dl4">.css-11w7dl4{width:100vw;height:100vh;text-align:left;font-size:1.5em;}@media screen and (min-width:40em){.css-11w7dl4{font-size:3em;}}.css-11w7dl4 *{box-sizing:border-box;}</style><div class="css-11w7dl4"><div style="outline:none;height:100%" tabindex="-1" role="group"><style data-emotion-css="ugssp6">.css-ugssp6{box-sizing:border-box;width:100%;height:100vh;display:block;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;overflow:hidden;position:relative;color:var(--theme-ui-colors-text,#11111f);background-color:var(--theme-ui-colors-background,#fffceb);font-family:"Crimson Text",serif;font-size:20px;padding:2em;text-align:left;}@media screen and (min-width:40em){.css-ugssp6{font-size:24px;}}@media screen and (min-width:52em){.css-ugssp6{font-size:32px;}}@media screen and (min-width:64em){.css-ugssp6{font-size:48px;}}</style><div class="css-ugssp6"><style data-emotion-css="1djqpdg">.css-1djqpdg{font-family:inherit;line-height:1.125;font-weight:700;}</style><h1 class="css-1djqpdg">Why you should use Cypress</h1><p class="css-0">November 12, 2019 @ TouchBistro, Toronto </p><p style="position:absolute;bottom:0.2vh" class="css-0">Jesse Buchanan (@jessebuchananCA)</p></div><div class="css-ugssp6"><h1 class="css-1djqpdg">Quick demo</h1><style data-emotion-css="1uk1gs8">.css-1uk1gs8{margin:0;}</style><ul class="css-1uk1gs8"><li class="css-0">ğŸ‰ Let&#x27;s do the best part first</li><li style="visibility:visible" class="css-0">ğŸ“– Cypress ships an example test suite for a &quot;real world&quot; app</li><li style="visibility:visible" class="css-0"><style data-emotion-css="vgof0f">.css-vgof0f{font-family:"Roboto Mono",Menlo,monospace;}</style><code class="css-vgof0f">conduit</code> is a Medium clone, a learning project cloned in over a dozen languages</li><li style="visibility:visible" class="css-0">â­</li></ul></div><div class="css-ugssp6"><h1 class="css-1djqpdg">Quick demo</h1><ul class="css-1uk1gs8"><span style="visibility:visible">âŒ¨ â±</span><li style="visibility:visible" class="css-0">We&#x27;ll come back to this soon</li><li style="visibility:visible" class="css-0">â­</li></ul></div><div class="css-ugssp6"><h1 class="css-1djqpdg">What drove us to Cypress?</h1><ul class="css-1uk1gs8"><h3 style="visibility:visible" class="css-1djqpdg">Component tests (e.g. `enzyme` shallow rendering) were fragile</h3><li style="visibility:visible" class="css-0">â­</li></ul></div><div class="css-ugssp6"><style data-emotion-css="1sbrhos">.css-1sbrhos{width:100%;height:100%;background-image:url(/static/meme2-7e1c6c851a3c45d163a7b1c156f41067.gif);background-size:cover;background-position:center;background-repeat:no-repeat;}</style><div class="css-1sbrhos"></div><p style="font-size:40px;position:absolute;top:0" class="css-0">2 unit tests, 0 integration tests ğŸ¤£</p></div><div class="css-ugssp6"><style data-emotion-css="14wfkye">.css-14wfkye{width:100%;height:100%;background-image:url(/static/meme1-f8f831da60192dec88bf1605c3f67897.jpg);background-size:cover;background-position:center;background-repeat:no-repeat;}</style><div class="css-14wfkye"></div><p style="font-size:40px;position:absolute;top:0" class="css-0">2 unit tests, 0 integration tests ğŸ¤£</p></div><div class="css-ugssp6"><style data-emotion-css="1xcm7tz">.css-1xcm7tz{width:100%;height:100%;background-image:url(/static/meme3-99d2995f0e74ac5f551aeacc450c9c11.gif);background-size:cover;background-position:center;background-repeat:no-repeat;}</style><div class="css-1xcm7tz"></div><p style="font-size:40px;position:absolute;top:0" class="css-0">2 unit tests, 0 integration tests ğŸ¤£</p></div><div class="css-ugssp6"><h1 class="css-1djqpdg">What drove us to Cypress?</h1><ul class="css-1uk1gs8"><h3 class="css-1djqpdg">Component tests with `enzyme` shallow rendering are fragile</h3><li style="visibility:visible" class="css-0">ğŸ’¥ Tests would still pass even if the app is broken</li><li style="visibility:visible" class="css-0">ğŸ—‘ Tests weren&#x27;t useful for verifying dependency upgrades</li><li style="visibility:visible" class="css-0">â­</li></ul></div><div class="css-ugssp6"><style data-emotion-css="1c6l08e">.css-1c6l08e{width:100%;height:100%;background-image:url(/static/dependabot-7c756320e130c5d6251aadc7f8c0c83d.png);background-size:cover;background-position:center;background-repeat:no-repeat;}</style><div class="css-1c6l08e"></div></div><div class="css-ugssp6"><h1 class="css-1djqpdg">What drove us to Cypress?</h1><ul class="css-1uk1gs8"><h3 class="css-1djqpdg">Component tests with `enzyme` shallow rendering are fragile</h3><li class="css-0">ğŸ’¥ Tests would still pass even if the app is broken</li><li class="css-0">ğŸ—‘ Tests weren&#x27;t useful for verifying dependency upgrades</li><li style="visibility:visible" class="css-0">ğŸ˜° Refactoring meant re-writing most or all of the tests</li><li style="visibility:visible" class="css-0">ğŸ’° Which means our tests didn&#x27;t pay for themselves</li><li style="visibility:visible" class="css-0">â­</li></ul></div><div class="css-ugssp6"><h1 class="css-1djqpdg">Testing pyramid</h1><li class="css-0">ğŸ”º Mostly unit tests</li></div><div class="css-ugssp6"><h1 class="css-1djqpdg">Testing <strike>pyramid</strike></h1></div><div class="css-ugssp6"><style data-emotion-css="5r4te6">.css-5r4te6{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;height:100%;text-align:center;}</style><div class="css-5r4te6"><style data-emotion-css="11ze7cv">.css-11ze7cv{width:50%;}</style><div class="css-11ze7cv"><style data-emotion-css="wnzno2">.css-wnzno2{max-width:100%;height:auto;object-fit:cover;}</style><img src="/static/trophy-180315b765f1b8180bcc5625e930032b.jpg" class="css-wnzno2"/></div><div class="css-11ze7cv"><h1 class="css-1djqpdg">ğŸ† Testing trophy</h1><p style="visibility:visible" class="css-0">&quot;<style data-emotion-css="1qljzjn">.css-1qljzjn{color:var(--theme-ui-colors-primary,#07c);}</style><a href="https://kentcdodds.com/blog/write-tests" class="css-1qljzjn">Write tests, not too many, mostly integration</a>&quot; - @kentcdodds</p></div></div></div><div class="css-ugssp6"><h1 class="css-1djqpdg">Test &quot;like a user&quot; to enable refactoring</h1><p class="css-0">Our mistake was testing <strong class="css-0">implementation details</strong>.</p><ul class="css-1uk1gs8"><li style="visibility:visible" class="css-0">ğŸš§ The internals of React were entirely rewritten between React 15 and React 16</li><li style="visibility:visible" class="css-0">ğŸ‘©â€ğŸ”¬ They only tested their public APIs</li></ul></div><div class="css-ugssp6"><img src="/static/test_internals-589bef3b2cf2120e1b37b94f76a1ffbf.png" style="height:100%;width:auto" class="css-wnzno2"/></div><div class="css-ugssp6"><h1 class="css-1djqpdg">Test &quot;like a user&quot; to enable refactoring</h1><p class="css-0">Our mistake was testing <strong class="css-0">implementation details</strong>.</p><ul class="css-1uk1gs8"><li class="css-0">ğŸš§ The internals of React were entirely rewritten between React 15 and React 16</li><li class="css-0">ğŸ‘©â€ğŸ”¬ They only tested their public APIs<ul class="css-1uk1gs8"><li class="css-0">Tests didn&#x27;t need to be rewritten</li><li class="css-0">And they actually verified things still worked</li></ul></li><li style="visibility:visible" class="css-0">ğŸ’» For a web application, <em class="css-0">the user interface</em> is the public API</li><li style="visibility:visible" class="css-0">â­</li></ul></div><div class="css-ugssp6"><img src="/static/best_practices-97785ee5c3228bfa16acf91cb4365e9a.png" style="height:100%;width:auto" class="css-wnzno2"/></div><div class="css-ugssp6"><h1 class="css-1djqpdg">Cypress is designed for reliability</h1><li style="visibility:visible" class="css-0">ğŸ•´ It hides the complexities of async</li><li style="visibility:visible" class="css-0">ğŸš« You can always* write deterministic, flake-free tests</li><li style="visibility:visible" class="css-0">ğŸ‘¨â€âš–ï¸ (* if you follow the rules)</li><li style="visibility:visible" class="css-0">â­</li></div><div class="css-ugssp6"><h1 class="css-1djqpdg">Cypress has great documentation</h1><ul class="css-1uk1gs8"><li style="visibility:visible" class="css-0">ğŸ”¤ <a href="https://docs.cypress.io/guides/core-concepts/introduction-to-cypress.html#Cypress-Can-Be-Simple-Sometimes" class="css-1qljzjn">It&#x27;s simple (sometimes)</a></li><li style="visibility:visible" class="css-0">ğŸ‘®â€â™‚ï¸  But in order to guarantee reliability, you need to follow rules</li><li style="visibility:visible" class="css-0">ğŸ‘¨â€ğŸ“ You may need to unlearn the way you&#x27;ve tested in other environments</li><li style="visibility:visible" class="css-0">ğŸ“š Read the docs to learn more!</li><li style="visibility:visible" class="css-0">â­</li></ul></div><div class="css-ugssp6"><h1 class="css-1djqpdg">The tests themselves</h1><li style="visibility:visible" class="css-0">ğŸ§™â€â™‚ï¸ Stub out REST API calls with <code class="css-vgof0f">cy.route()</code></li><li style="visibility:visible" class="css-0">ğŸ—ï¸ Stub out browser APIs (or your own app&#x27;s APIs!) with <code class="css-vgof0f">cy.stub()</code></li><li style="visibility:visible" class="css-0">ğŸ•° Fast-forward in-app timers with <code class="css-vgof0f">cy.tick()</code></li><li style="visibility:visible" class="css-0">âš™ï¸ Write arbitrary tasks in Node with <code class="css-vgof0f">cy.task()</code></li><li style="visibility:visible" class="css-0">ğŸ•¸ Make web requests with <code class="css-vgof0f">cy.request()</code></li><li style="visibility:visible" class="css-0">â­</li></div><div class="css-ugssp6"><h1 class="css-1djqpdg">The test runner</h1><li style="visibility:visible" class="css-0">âŒšï¸ You can view snapshots, &quot;before&quot;/&quot;after&quot; of each test step</li><li style="visibility:visible" class="css-0">ğŸ”“ You can access the console, and interact with your app</li><li style="visibility:visible" class="css-0">ğŸ¥ You can record screenshots and videos of test runs</li><li style="visibility:visible" class="css-0">ğŸ§¾ You can get code coverage metrics</li></div><div class="css-ugssp6"><h1 class="css-1djqpdg">Demo, again</h1></div><div class="css-ugssp6"><h1 class="css-1djqpdg">Demo, again</h1><p class="css-0">â­</p></div><div class="css-ugssp6"><h1 class="css-1djqpdg">Why you (maybe) shouldn&#x27;t use Cypress</h1><p class="css-0">Nothing is perfect. Some areas Cypress is working on:</p><ul class="css-1uk1gs8"><li class="css-0">No Firefox support - <a href="https://github.com/cypress-io/cypress/issues/1096" class="css-1qljzjn">GH #1096</a></li><li class="css-0">Full network stubbing (fetch support) - <a href="https://github.com/cypress-io/cypress/issues/687" class="css-1qljzjn">GH #687</a></li><li class="css-0"><a href="https://docs.cypress.io/guides/guides/web-security.html#External-Navigation" class="css-1qljzjn">One &quot;superdomain&quot; per test</a></li></ul></div><div class="css-ugssp6"><h1 class="css-1djqpdg">Thanks!</h1><p style="position:absolute;bottom:0.2vh" class="css-0">Jesse Buchanan (@jessebuchananCA)</p></div></div></div></div></div><script id="gatsby-script-loader">/*<![CDATA[*/window.pagePath="/print";/*]]>*/</script><script id="gatsby-chunk-mapping">/*<![CDATA[*/window.___chunkMapping={"app":["/app-542572cf9618f2411276.js"],"component---gatsby-theme-mdx-deck-src-templates-deck-js":["/component---gatsby-theme-mdx-deck-src-templates-deck-js-cdb6ca2b25d53e7b9a8a.js"]};/*]]>*/</script><script src="/webpack-runtime-e9523b97a6adcaa5552d.js" async=""></script><script src="/app-542572cf9618f2411276.js" async=""></script><script src="/commons-88bd4bfc42e0e51e494b.js" async=""></script><script src="/component---gatsby-theme-mdx-deck-src-templates-deck-js-cdb6ca2b25d53e7b9a8a.js" async=""></script></body></html>